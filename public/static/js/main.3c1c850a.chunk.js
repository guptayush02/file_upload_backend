(this.webpackJsonpwallet_connection=this.webpackJsonpwallet_connection||[]).push([[0],{120:function(e,t,n){},152:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(36),i=n.n(r),l=(n(120),n(53)),s=n(15),o=n(18),u=n.n(o),d=n(26),j=n(8),b=n(209),h=n(208),p=n(210),f=n(205),x=n(211),O=n(222),m=n(204),g=n(223),v=n(103),w=n.n(v),y=n(216),k=n(220),C=n(219),S=n(215),L=n(217),U=n(218),D=n(14),F=n(75),z=n.n(F),A=n(32),I={env:"production",API_URL:"http://localhost:3000"};z.a.defaults.baseURL=I.API_URL;var P=function(e){var t=e.method,n=void 0===t?"get":t,a=e.url,c=e.data,r=e.params,i=e.extra;return new Promise((function(e,t){var l=Object(D.a)({url:a,method:n},i),s=localStorage.getItem("token");s&&(l.headers={token:"".concat(s)}),!["GET","get"].includes(n)&&c&&(l.data=c),r&&(l.params=r),z()(Object(D.a)({},l)).then((function(t){return e(t.data)})).catch(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:401===a.response.status&&"You have been blocked!"===a.response.data?A.a.error(a.response.data):["get"].includes(n)&&A.a.error("Something went wrong!"),t(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},V=function(e){return P({method:"delete",url:"/api/v1/file/".concat(e)})},E=n(104),R=n.n(E),T=n(2),_={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function N(){function e(e,t,n,a){return{id:e,title:t,description:n,url:a}}var t=[e(1,"title","description","url"),e(2,"title","description","url"),e(3,"title","description","url"),e(4,"title","description","url"),e(5,"title","description","url")];console.log("rows--\x3e",t);Object(a.useEffect)((function(){X()}),[]);var n=Object(a.useState)([]),c=Object(j.a)(n,2),r=c[0],i=c[1],l=Object(a.useState)(!1),s=Object(j.a)(l,2),o=s[0],v=s[1],D=Object(a.useState)(null),F=Object(j.a)(D,2),z=F[0],I=F[1],E=Object(a.useState)(null),N=Object(j.a)(E,2),G=N[0],B=N[1],J=Object(a.useState)(null),M=Object(j.a)(J,2),W=M[0],Y=M[1],q=Object(a.useState)(null),H=Object(j.a)(q,2),K=H[0],Q=H[1],X=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({method:"get",url:"/api/v1/files"});case 2:t=e.sent,i(t.body.files);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("upload file"),t={title:z,description:G,url:W},e.next=4,P({method:"post",url:"/api/v1/upload-file",data:t});case 4:if(200!==(n=e.sent).code){e.next=9;break}return X(),v(!1),e.abrupt("return",A.a.success(n.message));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target,a=new FileReader,n.accept.includes("image")?"images":"videos",a.readAsDataURL(n.files[0]),a.onload=function(e){console.log("e---\x3e",e.target.result),Y("http://jfjfj")};case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t);case 2:if(200!==(n=e.sent).code){e.next=6;break}return X(),e.abrupt("return",A.a.success(n.message));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(b.a,{mt:15,p:2,display:"flex",justifyContent:"center",flexDirection:"column",children:[Object(T.jsx)(h.a,{variant:"outlined",onClick:function(){return v(!0)},children:"Upload Form"}),Object(T.jsx)(b.a,{mt:10}),Object(T.jsx)(S.a,{children:Object(T.jsxs)(y.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(T.jsx)(L.a,{children:Object(T.jsxs)(U.a,{children:[Object(T.jsx)(C.a,{children:"ID"}),Object(T.jsx)(C.a,{align:"right",children:"Title"}),Object(T.jsx)(C.a,{align:"right",children:"Description"}),Object(T.jsx)(C.a,{align:"right",children:"Url"}),Object(T.jsx)(C.a,{align:"right",children:"Delete"}),Object(T.jsx)(C.a,{align:"right",children:"Share"})]})}),Object(T.jsx)(k.a,{children:r.map((function(e){return Object(T.jsxs)(U.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(T.jsx)(C.a,{component:"th",scope:"row",children:e.id}),Object(T.jsx)(C.a,{align:"right",children:e.title}),Object(T.jsx)(C.a,{align:"right",children:e.description}),Object(T.jsx)(C.a,{align:"right",children:e.url}),Object(T.jsx)(C.a,{align:"right",children:Object(T.jsx)(p.a,{"aria-label":"delete",children:Object(T.jsx)(w.a,{onClick:function(){return ee(e.id)}})})}),Object(T.jsxs)(C.a,{align:"right",children:[Object(T.jsx)(p.a,{"aria-label":"delete",children:Object(T.jsx)(R.a,{onClick:function(){return Q(e.id)}})}),K===e.id&&"http://localhost:3000/public-file?id=".concat(K)]})]},e.id)}))})]})}),Object(T.jsx)(f.a,{open:o,onClose:function(){return v(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(T.jsxs)(b.a,{sx:_,children:[Object(T.jsx)(x.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Upload file"}),Object(T.jsx)(x.a,{id:"modal-modal-description",sx:{mt:2},children:Object(T.jsxs)(O.a,{sx:{flexDirection:{xs:"column",sm:"column"}},children:[Object(T.jsx)(m.a,{hiddenLabel:!0,id:"filled-hidden-label-small",defaultValue:"",variant:"filled",size:"small",type:"text",placeholder:"Title",onChange:function(e){return I(e.target.value)}}),Object(T.jsx)(b.a,{mt:2}),Object(T.jsx)(m.a,{hiddenLabel:!0,id:"filled-hidden-label-small",defaultValue:"",variant:"filled",size:"small",type:"text",placeholder:"description",onChange:function(e){return B(e.target.value)}}),Object(T.jsx)(b.a,{mt:2}),Object(T.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(T.jsx)(g.a,{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:$}),Object(T.jsx)(b.a,{mt:2})]}),Object(T.jsx)(h.a,{variant:"contained",component:"span",onClick:Z,children:"Upload"})]})})]})})]})}function G(){Object(s.f)();var e=Object(l.b)(),t=Object(j.a)(e,2),n=t[0],c=(t[1],Object(a.useState)(n.get("id"))),r=Object(j.a)(c,2),i=r[0],o=r[1],h=Object(a.useState)(null),p=Object(j.a)(h,2),f=(p[0],p[1]);Object(a.useEffect)((function(){o(n.get("id")),x()}),[]);var x=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({method:"get",url:"/api/v1/public-file?id=".concat(i)});case 2:200===(t=e.sent).code&&(f(t.body.publicUrl),window.open(t.body.publicUrl,"_self"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)(b.a,{mt:15,p:2,display:"flex",justifyContent:"center"})}var B=n(212);function J(){var e=Object(a.useState)(null),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),i=Object(j.a)(r,2),l=i[0],s=i[1],o=Object(a.useState)(null),p=Object(j.a)(o,2),f=p[0],x=p[1],g=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:n,email:l,password:f},e.next=3,P({method:"post",url:"/api/v1/signup",data:t});case 3:200===e.sent.code&&A.a.success("Signup successfully");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)(b.a,{mt:15,p:2,display:"flex",justifyContent:"center",children:Object(T.jsxs)(O.a,{sx:{flexDirection:{xs:"column",sm:"column"}},children:[Object(T.jsx)(m.a,{hiddenLabel:!0,id:"filled-hidden-label-small",defaultValue:"",variant:"filled",size:"small",placeholder:"Name",onChange:function(e){return c(e.target.value)}}),Object(T.jsx)(b.a,{mt:2}),Object(T.jsx)(m.a,{hiddenLabel:!0,id:"filled-hidden-label-small",defaultValue:"",variant:"filled",size:"small",type:"email",placeholder:"Email",onChange:function(e){return s(e.target.value)}}),Object(T.jsx)(b.a,{mt:2}),Object(T.jsx)(m.a,{hiddenLabel:!0,id:"filled-hidden-label-small",defaultValue:"",variant:"filled",size:"small",type:"password",placeholder:"Password",onChange:function(e){return x(e.target.value)}}),Object(T.jsx)(b.a,{mt:2}),Object(T.jsx)(h.a,{variant:"outlined",onClick:function(){return g()},children:"Signup"}),Object(T.jsx)(b.a,{mt:2}),"Already have an account ",Object(T.jsx)(B.a,{href:"/login",children:"Login"})]})})}function M(){var e=Object(s.f)(),t=Object(a.useState)(null),n=Object(j.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(null),l=Object(j.a)(i,2),o=l[0],p=l[1],f=function(){var t=Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e("/dashboard"),n={email:c,password:o},t.next=4,P({method:"post",url:"/api/v1/login",data:n});case 4:if(200!==(a=t.sent).code){t.next=8;break}return t.next=8,localStorage.setItem("token",a.body.token);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(T.jsx)(b.a,{mt:15,p:2,display:"flex",justifyContent:"center",children:Object(T.jsxs)(O.a,{sx:{flexDirection:{xs:"column",sm:"column"}},children:[Object(T.jsx)(m.a,{hiddenLabel:!0,id:"filled-hidden-label-small",defaultValue:"",variant:"filled",size:"small",type:"email",placeholder:"Email",onChange:function(e){return r(e.target.value)}}),Object(T.jsx)(b.a,{mt:2}),Object(T.jsx)(m.a,{hiddenLabel:!0,id:"filled-hidden-label-small",defaultValue:"",variant:"filled",size:"small",type:"password",placeholder:"Password",onChange:function(e){return p(e.target.value)}}),Object(T.jsx)(b.a,{mt:2}),Object(T.jsx)(h.a,{variant:"outlined",onClick:function(){return f()},children:"Login"}),Object(T.jsx)(b.a,{mt:2}),"Create a new Account ",Object(T.jsx)(B.a,{href:"/",children:"Signup"})]})})}function W(){return Object(T.jsx)(l.a,{children:Object(T.jsxs)(s.c,{children:[Object(T.jsx)(s.a,{exact:!0,path:"/",element:Object(T.jsx)(J,{})}),Object(T.jsx)(s.a,{exact:!0,path:"/login",element:Object(T.jsx)(M,{})}),Object(T.jsx)(s.a,{exact:!0,path:"/dashboard",element:Object(T.jsx)(N,{})}),Object(T.jsx)(s.a,{exact:!0,path:"/public-file",element:Object(T.jsx)(G,{})})]})})}var Y=function(){return Object(T.jsx)("div",{className:"App flex-grow px-5",children:Object(T.jsx)("header",{className:"App-header",children:Object(T.jsx)(W,{})})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,225)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},H=n(213),K=n(214);function Q(e){var t=e.children;return Object(T.jsxs)(b.a,{sx:{flexGrow:1},style:{position:"sticky"},children:[Object(T.jsx)(H.a,{sx:{bgcolor:"#000"},position:"fixed",children:Object(T.jsx)(K.a,{children:Object(T.jsx)(x.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"File Upload"})})}),Object(T.jsx)("main",{className:"transition-all duration-500 ease-in-out flex flex-grow bg-white",children:t})]})}function X(e){var t=e.children;return Object(T.jsx)("div",{children:Object(T.jsx)(Q,{children:t})})}i.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(X,{children:Object(T.jsx)(Y,{})})}),document.getElementById("root")),q()}},[[152,1,2]]]);
//# sourceMappingURL=main.3c1c850a.chunk.js.map